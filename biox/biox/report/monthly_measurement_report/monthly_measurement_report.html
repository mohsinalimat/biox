<!-- <style>
	.print-format table, .print-format tr,
	.print-format td, .print-format div, .print-format p {
	    font-family: Monospace;
	    line-height: 100%;
	    vertical-align: middle;
	}
	@media screen {
	    .print-format {
	        width: 33.1in;
	        padding: 0.25in;
	        min-height: 46.8<style>
	.print-format table, .print-format tr,
	.print-format td, .print-format div, .print-format p {
	    font-family: Monospace;
	    line-height: 200%;
	    vertical-align: middle;
	}
	@media screen {
	    .print-format {
	        width: 33.8in;
	        padding: 0.25in;
	        min-height: 46.8in;
	    }
	}
	</style>
	-->
<p class="c1"><span style=""><img alt="" src="files/image1.png" style="" title=""><HR></span></p>
<div>
	<p class="c2"><span class="c0"></span></p>
</div>
<h2 class="text-center">{%= __("Monthly Measurement Report") %}</h2>
<h5 class="text-center">
	{%= filters.project %}
	{%= __(": ") %}
	{%= frappe.datetime.str_to_user(filters.from_date) %}
	{%= __("to") %}
	{%= frappe.datetime.str_to_user(filters.to_date) %}
</h5>

<table class="table table-bordered">
	<thead>
		<tr>
			<th style="width: 10%">{%= __("Date") %}</th>
			<th style="width: 10%">{%= __("Daily Flow Volume (MLD)") %}</th>
			<th style="width: 22%">{%= __("# of readings") %}</th>
		</tr>
	</thead>
	<tbody>
		{% for(var i=0, l=data.length; i<l; i++) { %}
		<tr>
			<td>{%= dateutil.str_to_user(data[i][__("measurement_date__time")]) %}</td>
			<td style="text-align: right;">{%= data[i][__("calculated_daily_volume")] %}</td>
			<td style="text-align: right;">{%= data[i][__("num_readings")] %}</td>
		</tr>	
		{% } %}	
	</tbody>
</table>

<h3 class="text-center">{%= __("Selected Images from Site") %}</h3>

<table class="table table-bordered">
	<thead>
		<tr>
			<th style="width: 10%">{%= __("Date") %}</th>
			<th style="width: 10%">{%= __("Flow Volume (MLD)") %}</th>
			<th style="width: 22%">{%= __("Site GPS Image") %}</th>
		</tr>
	</thead>
	<tbody>
		{% console.log(frappe.query_report.datatable.rowmanager.getCheckedRows()) %}
		{% var rows = frappe.query_report.datatable.rowmanager.getCheckedRows() %}

		{% rows.forEach(function(item, index) { %}
		<tr>	
			{% i = parseInt(item,10)  %}
							
			<td>{%= dateutil.str_to_user(data[i][__("measurement_date__time")]) %}</td>
			<td style="text-align: right;">{%= data[i][__("calculated_daily_volume")] %}</td>
			<td> 
				<img src = {%= data[i][__("site_gps_image")] %} 
					style = "max-height: 200px, width: auto"> 
			</td>
		</tr>
		{% }) %}
	</tbody>
</table>
<p class="text-right text-muted">Printed On {%= dateutil.str_to_user(dateutil.get_datetime_as_string()) %}</p>